<html>
	<head>
		<title>Plated^ docs!</title>
		<link href="https://fonts.googleapis.com/css?family=Patua+One" rel="stylesheet">
		<link rel='stylesheet' href='../../docs/docs.css' />
	</head>
	<body><div class="nav_wrap">
	<div class="nav">
		<a href="../../" class="logo">plated^</a>
		<ul>
			<li><a href="https://github.com/xriss/plated">Github</a></li>
			<li><a href="../../blog">Blog</a></li>
			<li><a href="../../docs">Documentation</a></li>
		</ul>
	</div>
</div>
<div class="default">
	<div class="contents">
		<div class="topics">
			<a class="par" href="../../docs"><span>/</span></a>
			<a class="par" href="../../docs/cmd"><span>/cmd</span></a>
<a class="par" href="../../docs/cmd.plated"><span>/cmd.plated</span></a>

<a class="sub" href="../../docs/cmd.plated.build"><span>/cmd.plated.build</span></a>
<a class="sub" href="../../docs/cmd.plated.watch"><span>/cmd.plated.watch</span></a><a class="par" href="../../docs/html"><span>/html</span></a>
<a class="par" href="../../docs/html.plated"><span>/html.plated</span></a>

<a class="sub" href="../../docs/html.plated.chunks"><span>/html.plated.chunks</span></a>
<a class="sub" href="../../docs/html.plated.files"><span>/html.plated.files</span></a>
<a class="sub" href="../../docs/html.plated.macros"><span>/html.plated.macros</span></a>
<a class="sub" href="../../docs/html.plated.operators"><span>/html.plated.operators</span></a><a class="par" href="../../docs/html.plated_plugin"><span>/html.plated_plugin</span></a>

<a class="sub" href="../../docs/html.plated_plugin.blog"><span>/html.plated_plugin.blog</span></a>
<a class="sub" href="../../docs/html.plated_plugin.copy"><span>/html.plated_plugin.copy</span></a>
<a class="sub" href="../../docs/html.plated_plugin.docs"><span>/html.plated_plugin.docs</span></a>
<a class="sub" href="../../docs/html.plated_plugin.import"><span>/html.plated_plugin.import</span></a>
<a class="sub" href="../../docs/html.plated_plugin.redirect"><span>/html.plated_plugin.redirect</span></a><a class="par" href="../../docs/js"><span>/js</span></a>
<a class="par" href="../../docs/js.plated"><span>/js.plated</span></a>

<a class="sub" href="../../docs/js.plated.build"><span>/js.plated.build</span></a>
<a class="sub" href="../../docs/js.plated.plugin"><span>/js.plated.plugin</span></a>
<a class="sub" href="../../docs/js.plated.setup"><span>/js.plated.setup</span></a>
<a class="sub" href="../../docs/js.plated.watch"><span>/js.plated.watch</span></a><a class="par" href="../../docs/js.plated_chunks"><span>/js.plated_chunks</span></a>

<a class="sub" href="../../docs/js.plated_chunks.deepmerge"><span>/js.plated_chunks.deepmerge</span></a>
<a class="sub" href="../../docs/js.plated_chunks.delimiter_close_str"><span>/js.plated_chunks.delimiter_close_str</span></a>
<a class="sub" href="../../docs/js.plated_chunks.delimiter_open_str"><span>/js.plated_chunks.delimiter_open_str</span></a>
<a class="sub" href="../../docs/js.plated_chunks.delimiter_wrap_str"><span>/js.plated_chunks.delimiter_wrap_str</span></a>
<a class="sub" href="../../docs/js.plated_chunks.expand_tag"><span>/js.plated_chunks.expand_tag</span></a>
<a class="sub" href="../../docs/js.plated_chunks.fill_chunks"><span>/js.plated_chunks.fill_chunks</span></a>
<a class="sub" href="../../docs/js.plated_chunks.format_chunks"><span>/js.plated_chunks.format_chunks</span></a>
<a class="sub" href="../../docs/js.plated_chunks.lookup"><span>/js.plated_chunks.lookup</span></a>
<a class="sub" href="../../docs/js.plated_chunks.lookup_in_namespace"><span>/js.plated_chunks.lookup_in_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.markdown"><span>/js.plated_chunks.markdown</span></a>
<a class="sub" href="../../docs/js.plated_chunks.merge_namespace"><span>/js.plated_chunks.merge_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.pop_namespace"><span>/js.plated_chunks.pop_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.prepare"><span>/js.plated_chunks.prepare</span></a>
<a class="sub" href="../../docs/js.plated_chunks.push_namespace"><span>/js.plated_chunks.push_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.remove_underscorechunks"><span>/js.plated_chunks.remove_underscorechunks</span></a>
<a class="sub" href="../../docs/js.plated_chunks.replace"><span>/js.plated_chunks.replace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.replace_once"><span>/js.plated_chunks.replace_once</span></a>
<a class="sub" href="../../docs/js.plated_chunks.reset_namespace"><span>/js.plated_chunks.reset_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.set_namespace"><span>/js.plated_chunks.set_namespace</span></a><a class="par" href="../../docs/js.plated_files"><span>/js.plated_files</span></a>

<a class="sub" href="../../docs/js.plated_files.base_files_to_chunks"><span>/js.plated_files.base_files_to_chunks</span></a>
<a class="sub" href="../../docs/js.plated_files.build"><span>/js.plated_files.build</span></a>
<a class="sub" href="../../docs/js.plated_files.build_file"><span>/js.plated_files.build_file</span></a>
<a class="sub" href="../../docs/js.plated_files.empty_cache"><span>/js.plated_files.empty_cache</span></a>
<a class="sub" href="../../docs/js.plated_files.empty_folder"><span>/js.plated_files.empty_folder</span></a>
<a class="sub" href="../../docs/js.plated_files.exists"><span>/js.plated_files.exists</span></a>
<a class="sub" href="../../docs/js.plated_files.file_to_chunks"><span>/js.plated_files.file_to_chunks</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_fixup"><span>/js.plated_files.filename_fixup</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_is_basechunk"><span>/js.plated_files.filename_is_basechunk</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_is_plated"><span>/js.plated_files.filename_is_plated</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_to_dirname"><span>/js.plated_files.filename_to_dirname</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_to_output"><span>/js.plated_files.filename_to_output</span></a>
<a class="sub" href="../../docs/js.plated_files.find_dirs"><span>/js.plated_files.find_dirs</span></a>
<a class="sub" href="../../docs/js.plated_files.find_files"><span>/js.plated_files.find_files</span></a>
<a class="sub" href="../../docs/js.plated_files.joinpath"><span>/js.plated_files.joinpath</span></a>
<a class="sub" href="../../docs/js.plated_files.lstat"><span>/js.plated_files.lstat</span></a>
<a class="sub" href="../../docs/js.plated_files.mkdir"><span>/js.plated_files.mkdir</span></a>
<a class="sub" href="../../docs/js.plated_files.prepare_namespace"><span>/js.plated_files.prepare_namespace</span></a>
<a class="sub" href="../../docs/js.plated_files.readdir"><span>/js.plated_files.readdir</span></a>
<a class="sub" href="../../docs/js.plated_files.set_source"><span>/js.plated_files.set_source</span></a>
<a class="sub" href="../../docs/js.plated_files.source_to_output"><span>/js.plated_files.source_to_output</span></a>
<a class="sub" href="../../docs/js.plated_files.stat"><span>/js.plated_files.stat</span></a>
<a class="sub" href="../../docs/js.plated_files.trimpath"><span>/js.plated_files.trimpath</span></a>
<a class="sub" href="../../docs/js.plated_files.watch"><span>/js.plated_files.watch</span></a>
<a class="sub" href="../../docs/js.plated_files.write"><span>/js.plated_files.write</span></a><a class="par" href="../../docs/js.plated_output"><span>/js.plated_output</span></a>

<a class="sub" href="../../docs/js.plated_output.remember"><span>/js.plated_output.remember</span></a>
<a class="sub" href="../../docs/js.plated_output.remember_and_write"><span>/js.plated_output.remember_and_write</span></a>
<a class="sub" href="../../docs/js.plated_output.write"><span>/js.plated_output.write</span></a>
<a class="sub" href="../../docs/js.plated_output.write_all"><span>/js.plated_output.write_all</span></a><a class="par" href="../../docs/js.plated_plugin"><span>/js.plated_plugin</span></a>
<a class="par" href="../../docs/js.plated_plugin.blog"><span>/js.plated_plugin.blog</span></a>

<a class="sub" href="../../docs/js.plated_plugin.blog.process_dirs"><span>/js.plated_plugin.blog.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.blog.process_file"><span>/js.plated_plugin.blog.process_file</span></a><a class="par" href="../../docs/js.plated_plugin.copy"><span>/js.plated_plugin.copy</span></a>

<a class="sub" href="../../docs/js.plated_plugin.copy.process_dirs"><span>/js.plated_plugin.copy.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.copy.process_file"><span>/js.plated_plugin.copy.process_file</span></a>
<a class="sub" href="../../docs/js.plated_plugin.copy.process_output"><span>/js.plated_plugin.copy.process_output</span></a><a class="par" href="../../docs/js.plated_plugin.docs"><span>/js.plated_plugin.docs</span></a>

<a class="sub" href="../../docs/js.plated_plugin.docs.process_dirs"><span>/js.plated_plugin.docs.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.docs.process_file"><span>/js.plated_plugin.docs.process_file</span></a><a class="par" href="../../docs/js.plated_plugin.import"><span>/js.plated_plugin.import</span></a>

<a class="sub" href="../../docs/js.plated_plugin.import.process_file"><span>/js.plated_plugin.import.process_file</span></a><a class="par" href="../../docs/js.plated_plugin.redirect"><span>/js.plated_plugin.redirect</span></a>

<a class="sub" href="../../docs/js.plated_plugin.redirect.process_dirs"><span>/js.plated_plugin.redirect.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.redirect.process_file"><span>/js.plated_plugin.redirect.process_file</span></a>
		</div>
	</div>
	<div class="main">
		
<div class="wrap">
<h1><a href="../../docs/js.plated_chunks">js.plated_chunks</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L3">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><p>Manage the chunks of text that are combined into a page.</p>
<p>This module only exposes one function, which is used to create 
the actual module with bound state data.</p>
<pre><code>plated_chunks = require(&quot;./plated_chunks.js&quot;).create(opts,plated)
</code></pre>
<p>This is called automatically when the plated module is created and the 
return value is made available in plated.chunks note that all of these 
modules are bound together and operate as a group with shared data.</p>
<p>In the future when we talk about this module and its available 
functions we are referring to the return value from this create 
function.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.deepmerge">js.plated_chunks.deepmerge</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L410">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>too = plated_chunks.deepmerge(frm,too,_flags)
</code></pre>
<p>Merge the object, frm, into an object too. How values merge can be 
adjusted by _flags the same way _flags works in parsing chunks. 
same=merge is honoured here so some chunks can be appended rather than 
replace. We need to keep this separate as the act of merging will break 
how such things work.</p>
<p>This function is called recursively so as not to end up sharing values 
with any inputs.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.delimiter_close_str">js.plated_chunks.delimiter_close_str</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L78">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>s = plated_chunks.delimiter_close_str()
</code></pre>
<p>Return the last half of the opts.delimiter string.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.delimiter_open_str">js.plated_chunks.delimiter_open_str</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L66">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>s = plated_chunks.delimiter_open_str()
</code></pre>
<p>Return the first half of the opts.delimiter string.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.delimiter_wrap_str">js.plated_chunks.delimiter_wrap_str</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L90">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>s = plated_chunks.delimiter_wrap_str(s)
</code></pre>
<p>Return the given string wrapped in the opts.delimiter string.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.expand_tag">js.plated_chunks.expand_tag</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L654">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>value = plated_chunks.expand_tag(v,dat,lastpass)
</code></pre>
<p>Do all the magical things that enables a tag to expand, normally we 
just lookup the value inside dat but a few operators can be applied.</p>
<p>if dat is null then we use data pushed into the namespaces otherwise we 
will only use data available in dat.</p>
<p>Operators are applied from left to right so we have no precedence 
besides this.</p>
<p>If we fail to lookup a valid value then we return input string wrapped 
in delimiters, essentially any values we do not understand will come 
out of the process unscathed  exactly as they went in.</p>
<p>There must be no white space inside {} or we will not process it.</p>
<p>This combined is why we can safely use {} rather than {{}} and any accidental 
use will survive.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.fill_chunks">js.plated_chunks.fill_chunks</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L104">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>chunks = plated_chunks.fill_chunks(str,chunks)
</code></pre>
<p>break a string into chunks ( can merged with or replace other chunks ) 
so chunks can be a previously filled list of chunks that we will 
combine any chunks we find in the string with.</p>
<p>A chunk is defined by a line that begins with #^ this has been chosen 
so as not to be something that occurs by mistake in any language, but 
can be altered either inside the chunk file or via the command line 
opts. Note that any future reference is referring to this default and 
would work with any other string if this has been changed.</p>
<p>A line that begins with #^=## would redefine this from one to the other 
for the remainder of the file and can be changed globally by the option 
opt.hashchunk</p>
<p>The first word after this would be the name of the chunk and can then 
be followed by a number of optional flag arguments like flag=value we 
store these flags in the chunks table using chunks._flags[name]=value 
this includes trimming options and request for how chunks should be 
merged.</p>
<p>A comment begins with #^- and the rest of the line will be ignored.</p>
<p>The flag same=append will cause future chunks of the same name to be 
appended to this chunk rather than replace it. This is useful for CSS 
chunks where we wish to bubble down css values into sub directories.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.format_chunks">js.plated_chunks.format_chunks</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L235">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>chunks = plated_chunks.format_chunks(chunks)
</code></pre>
<p>Process the chunks according to their flags, a chunk with trim=ends set 
will have white space removed from its beginning and end.</p>
<p>A chunk with form=json will be parsed as json rather than a string. It 
can then be referenced inside chunks using chunk.member style lookups.</p>
<p>A chunk with form=markdown will be processed as markdown and turned 
into a html string.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.lookup">js.plated_chunks.lookup</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L517">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>chunks = plated_chunks.lookup(str,dat)
</code></pre>
<p>lookup the string inside dat, the string can use dot notation such as 
parent.member to lookup a value inside an object.</p>
<p>Numbers can also be used to reverence arrays such as array.0 or array.1 
and negative indexes such as array.-1 can be used to fetch the last 
value from the array.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.lookup_in_namespace">js.plated_chunks.lookup_in_namespace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L496">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>chunks = plated_chunks.lookup_in_namespace(str)
</code></pre>
<p>lookup the string inside all namespaces using the same rules as 
plated_chunks.lookup</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.markdown">js.plated_chunks.markdown</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L892">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>html = plated_chunks.markdown(str)
</code></pre>
<p>Convert a markdown string to a html string. As a personal quirk We keep 
newlines a little more eagerly than standard markdown allowing some 
control over the spacing between your text.</p>
<p>Markdown is hardly a standard thing, after all.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.merge_namespace">js.plated_chunks.merge_namespace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L468">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>chunks = plated_chunks.merge_namespace(dat)
</code></pre>
<p>Merge all of the namespaces together, along with the dat, then return 
this new set of chunks for easy lookup it should be safe to modify the 
output merged chunks without accidentally changing anything in the 
namespace.</p>
<p>This gives us a final chunks object that we can use to build the output 
page.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.pop_namespace">js.plated_chunks.pop_namespace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L369">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>plated_chunks.pop_namespace(value)
</code></pre>
<p>Remove last namespace from top of the stack.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.prepare">js.plated_chunks.prepare</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L284">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>array = plated_chunks.prepare(chunks)
</code></pre>
<p>break a string on {data} ready to find the lookup values and do all the 
templating actions. This just gets us an array of string parts we can 
easily parse.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.push_namespace">js.plated_chunks.push_namespace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L352">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>plated_chunks.push_namespace(value)
</code></pre>
<p>Add this value into the namespaces, we check this namespace as well as 
the current chunk data when filling in chunks.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.remove_underscorechunks">js.plated_chunks.remove_underscorechunks</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L383">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>newchunks = plated_chunks.remove_underscorechunks(chunks)
</code></pre>
<p>Remove any chunks that begin with &quot;_&quot; these are all internal chunks 
used by plated code. The user should not be creating any chunks whose 
names begin with an underscore. Also none of these chunks should ever 
bubble down through the heirachy, they belong only to the page in 
which they are created..</p>
<p>A new object full of only chunks that do not begin with an underscore 
is returned.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.replace">js.plated_chunks.replace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L860">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>value = plated_chunks.replace(str,dat)
</code></pre>
<p>Repeatedly call replace_once until all things that can expand, have 
expanded, or we ran out of sanity. Sanity is 100 levels of recursion, 
just to be on the safe side.</p>
<p>We then call a final replace_once with the lastpass flag set.</p>
<p>if dat is null then we use data pushed into the namespaces otherwise we 
will only use data available in dat.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.replace_once">js.plated_chunks.replace_once</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L564">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>chunks = plated_chunks.replace_once(str,dat,lastpass)
</code></pre>
<p>Parse the str and replace {} values once only using dat values. 
lastpass is a flag as on the lastpass we allow final expansion and removal.</p>
<p>We can use {[} {]} around areas of text to prevent further expansion 
inside. So we can talk about plated inside plated, this is necesary for 
our documentation.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.reset_namespace">js.plated_chunks.reset_namespace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L324">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>plated_chunks.reset_namespace()
</code></pre>
<p>clear the namespace, a namespace is a list of chunks that will be 
merged together as we descend into directories. The lower or later 
chunks replacing or merging with the previous ones.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_chunks.set_namespace">js.plated_chunks.set_namespace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_chunks.js#L339">https://github.com/xriss/plated/blob/master/js/plated_chunks.js</a></div>
<div><pre><code>plated_chunks.set_namespace(values)
</code></pre>
<p>Set the namespace to the given value.</p>
</div>
</div>

	</div>
</div>
</body>
</html>
