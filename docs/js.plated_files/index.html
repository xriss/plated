<html>
	<head>
		<title>Plated^ docs!</title>
		<link href="https://fonts.googleapis.com/css?family=Patua+One" rel="stylesheet">
		<link rel='stylesheet' href='../../docs/docs.css' />
	</head>
	<body><div class="nav_wrap">
	<div class="nav">
		<a href="../../" class="logo">plated^</a>
		<ul>
			<li><a href="https://github.com/xriss/plated">Github</a></li>
			<li><a href="../../blog">Blog</a></li>
			<li><a href="../../docs">Documentation</a></li>
		</ul>
	</div>
</div>
<div class="default">
	<div class="contents">
		<div class="topics">
			<a class="par" href="../../docs"><span>/</span></a>
			<a class="par" href="../../docs/cmd"><span>/cmd</span></a>
<a class="par" href="../../docs/cmd.plated"><span>/cmd.plated</span></a>

<a class="sub" href="../../docs/cmd.plated.build"><span>/cmd.plated.build</span></a>
<a class="sub" href="../../docs/cmd.plated.watch"><span>/cmd.plated.watch</span></a><a class="par" href="../../docs/html"><span>/html</span></a>
<a class="par" href="../../docs/html.plated"><span>/html.plated</span></a>

<a class="sub" href="../../docs/html.plated.chunks"><span>/html.plated.chunks</span></a>
<a class="sub" href="../../docs/html.plated.files"><span>/html.plated.files</span></a>
<a class="sub" href="../../docs/html.plated.macros"><span>/html.plated.macros</span></a>
<a class="sub" href="../../docs/html.plated.operators"><span>/html.plated.operators</span></a><a class="par" href="../../docs/html.plated_plugin"><span>/html.plated_plugin</span></a>

<a class="sub" href="../../docs/html.plated_plugin.blog"><span>/html.plated_plugin.blog</span></a>
<a class="sub" href="../../docs/html.plated_plugin.copy"><span>/html.plated_plugin.copy</span></a>
<a class="sub" href="../../docs/html.plated_plugin.docs"><span>/html.plated_plugin.docs</span></a>
<a class="sub" href="../../docs/html.plated_plugin.import"><span>/html.plated_plugin.import</span></a>
<a class="sub" href="../../docs/html.plated_plugin.redirect"><span>/html.plated_plugin.redirect</span></a><a class="par" href="../../docs/js"><span>/js</span></a>
<a class="par" href="../../docs/js.plated"><span>/js.plated</span></a>

<a class="sub" href="../../docs/js.plated.build"><span>/js.plated.build</span></a>
<a class="sub" href="../../docs/js.plated.plugin"><span>/js.plated.plugin</span></a>
<a class="sub" href="../../docs/js.plated.setup"><span>/js.plated.setup</span></a>
<a class="sub" href="../../docs/js.plated.watch"><span>/js.plated.watch</span></a><a class="par" href="../../docs/js.plated_chunks"><span>/js.plated_chunks</span></a>

<a class="sub" href="../../docs/js.plated_chunks.deepmerge"><span>/js.plated_chunks.deepmerge</span></a>
<a class="sub" href="../../docs/js.plated_chunks.delimiter_close_str"><span>/js.plated_chunks.delimiter_close_str</span></a>
<a class="sub" href="../../docs/js.plated_chunks.delimiter_open_str"><span>/js.plated_chunks.delimiter_open_str</span></a>
<a class="sub" href="../../docs/js.plated_chunks.delimiter_wrap_str"><span>/js.plated_chunks.delimiter_wrap_str</span></a>
<a class="sub" href="../../docs/js.plated_chunks.expand_tag"><span>/js.plated_chunks.expand_tag</span></a>
<a class="sub" href="../../docs/js.plated_chunks.fill_chunks"><span>/js.plated_chunks.fill_chunks</span></a>
<a class="sub" href="../../docs/js.plated_chunks.format_chunks"><span>/js.plated_chunks.format_chunks</span></a>
<a class="sub" href="../../docs/js.plated_chunks.lookup"><span>/js.plated_chunks.lookup</span></a>
<a class="sub" href="../../docs/js.plated_chunks.lookup_in_namespace"><span>/js.plated_chunks.lookup_in_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.markdown"><span>/js.plated_chunks.markdown</span></a>
<a class="sub" href="../../docs/js.plated_chunks.merge_namespace"><span>/js.plated_chunks.merge_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.pop_namespace"><span>/js.plated_chunks.pop_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.prepare"><span>/js.plated_chunks.prepare</span></a>
<a class="sub" href="../../docs/js.plated_chunks.push_namespace"><span>/js.plated_chunks.push_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.remove_underscorechunks"><span>/js.plated_chunks.remove_underscorechunks</span></a>
<a class="sub" href="../../docs/js.plated_chunks.replace"><span>/js.plated_chunks.replace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.replace_once"><span>/js.plated_chunks.replace_once</span></a>
<a class="sub" href="../../docs/js.plated_chunks.reset_namespace"><span>/js.plated_chunks.reset_namespace</span></a>
<a class="sub" href="../../docs/js.plated_chunks.set_namespace"><span>/js.plated_chunks.set_namespace</span></a><a class="par" href="../../docs/js.plated_files"><span>/js.plated_files</span></a>

<a class="sub" href="../../docs/js.plated_files.base_files_to_chunks"><span>/js.plated_files.base_files_to_chunks</span></a>
<a class="sub" href="../../docs/js.plated_files.build"><span>/js.plated_files.build</span></a>
<a class="sub" href="../../docs/js.plated_files.build_file"><span>/js.plated_files.build_file</span></a>
<a class="sub" href="../../docs/js.plated_files.empty_cache"><span>/js.plated_files.empty_cache</span></a>
<a class="sub" href="../../docs/js.plated_files.empty_folder"><span>/js.plated_files.empty_folder</span></a>
<a class="sub" href="../../docs/js.plated_files.exists"><span>/js.plated_files.exists</span></a>
<a class="sub" href="../../docs/js.plated_files.file_to_chunks"><span>/js.plated_files.file_to_chunks</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_fixup"><span>/js.plated_files.filename_fixup</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_is_basechunk"><span>/js.plated_files.filename_is_basechunk</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_is_plated"><span>/js.plated_files.filename_is_plated</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_to_dirname"><span>/js.plated_files.filename_to_dirname</span></a>
<a class="sub" href="../../docs/js.plated_files.filename_to_output"><span>/js.plated_files.filename_to_output</span></a>
<a class="sub" href="../../docs/js.plated_files.find_dirs"><span>/js.plated_files.find_dirs</span></a>
<a class="sub" href="../../docs/js.plated_files.find_files"><span>/js.plated_files.find_files</span></a>
<a class="sub" href="../../docs/js.plated_files.joinpath"><span>/js.plated_files.joinpath</span></a>
<a class="sub" href="../../docs/js.plated_files.lstat"><span>/js.plated_files.lstat</span></a>
<a class="sub" href="../../docs/js.plated_files.mkdir"><span>/js.plated_files.mkdir</span></a>
<a class="sub" href="../../docs/js.plated_files.prepare_namespace"><span>/js.plated_files.prepare_namespace</span></a>
<a class="sub" href="../../docs/js.plated_files.readdir"><span>/js.plated_files.readdir</span></a>
<a class="sub" href="../../docs/js.plated_files.source_to_output"><span>/js.plated_files.source_to_output</span></a>
<a class="sub" href="../../docs/js.plated_files.stat"><span>/js.plated_files.stat</span></a>
<a class="sub" href="../../docs/js.plated_files.trimpath"><span>/js.plated_files.trimpath</span></a>
<a class="sub" href="../../docs/js.plated_files.watch"><span>/js.plated_files.watch</span></a>
<a class="sub" href="../../docs/js.plated_files.write"><span>/js.plated_files.write</span></a><a class="par" href="../../docs/js.plated_output"><span>/js.plated_output</span></a>

<a class="sub" href="../../docs/js.plated_output.remember"><span>/js.plated_output.remember</span></a>
<a class="sub" href="../../docs/js.plated_output.remember_and_write"><span>/js.plated_output.remember_and_write</span></a>
<a class="sub" href="../../docs/js.plated_output.write"><span>/js.plated_output.write</span></a>
<a class="sub" href="../../docs/js.plated_output.write_all"><span>/js.plated_output.write_all</span></a><a class="par" href="../../docs/js.plated_plugin"><span>/js.plated_plugin</span></a>
<a class="par" href="../../docs/js.plated_plugin.blog"><span>/js.plated_plugin.blog</span></a>

<a class="sub" href="../../docs/js.plated_plugin.blog.process_dirs"><span>/js.plated_plugin.blog.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.blog.process_file"><span>/js.plated_plugin.blog.process_file</span></a><a class="par" href="../../docs/js.plated_plugin.copy"><span>/js.plated_plugin.copy</span></a>

<a class="sub" href="../../docs/js.plated_plugin.copy.process_dirs"><span>/js.plated_plugin.copy.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.copy.process_file"><span>/js.plated_plugin.copy.process_file</span></a>
<a class="sub" href="../../docs/js.plated_plugin.copy.process_output"><span>/js.plated_plugin.copy.process_output</span></a><a class="par" href="../../docs/js.plated_plugin.docs"><span>/js.plated_plugin.docs</span></a>

<a class="sub" href="../../docs/js.plated_plugin.docs.process_dirs"><span>/js.plated_plugin.docs.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.docs.process_file"><span>/js.plated_plugin.docs.process_file</span></a><a class="par" href="../../docs/js.plated_plugin.import"><span>/js.plated_plugin.import</span></a>

<a class="sub" href="../../docs/js.plated_plugin.import.process_file"><span>/js.plated_plugin.import.process_file</span></a><a class="par" href="../../docs/js.plated_plugin.redirect"><span>/js.plated_plugin.redirect</span></a>

<a class="sub" href="../../docs/js.plated_plugin.redirect.process_dirs"><span>/js.plated_plugin.redirect.process_dirs</span></a>
<a class="sub" href="../../docs/js.plated_plugin.redirect.process_file"><span>/js.plated_plugin.redirect.process_file</span></a>
		</div>
	</div>
	<div class="main">
		
<div class="wrap">
<h1><a href="../../docs/js.plated_files">js.plated_files</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L3">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><p>Manage the files that we read from and watch or write to.</p>
<p>This module only exposes one function, which is used to create 
the actual module with bound state data.</p>
<pre><code>plated_files = require(&quot;./plated_files.js&quot;).create(opts,plated)
</code></pre>
<p>This is called automatically when the plated module is created and the 
return value is made available in plated.chunks note that all of these 
modules are bound together and operate as a group with shared data.</p>
<p>In the future when we talk about this module and its available 
functions we are referring to the return value from this create 
function.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.base_files_to_chunks">js.plated_files.base_files_to_chunks</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L533">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>chunks = await plated_files.base_files_to_chunks(fname)
</code></pre>
<p>Check this directory and all directories above for generic chunks build 
all of these into the current chunk namespace for this file.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.build">js.plated_files.build</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L612">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.build()
</code></pre>
<p>Build all files found in the source dir into the output dir.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.build_file">js.plated_files.build_file</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L565">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.build_file(fname)
</code></pre>
<p>Build the given source filename, using chunks or maybe just a raw copy 
from source into the output.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.empty_cache">js.plated_files.empty_cache</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L466">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.empty_cache()
</code></pre>
<p>Empty the current file cache, we fill it up as read files.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.empty_folder">js.plated_files.empty_folder</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L373">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.empty_folder(path)
</code></pre>
<p>Empty the (output) folder or make it if it does not exist. This is 
rather dangerous so please be careful.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.exists">js.plated_files.exists</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L94">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>await plated_files.exists(path)
</code></pre>
<p>Returns true if a file or dir at the given path exists.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.file_to_chunks">js.plated_files.file_to_chunks</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L479">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>chunks = plated_files.file_to_chunks(root,fname,chunks)
</code></pre>
<p>Load root/fname or get it from the cache and then turn it into chunks 
using plated_chunks.fill_chunks(date,chunks) chunks is returned.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.filename_fixup">js.plated_files.filename_fixup</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L264">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>filename = plated_files.filename_fixup(filename)
</code></pre>
<p>Fix the filename, so it becomes an empty string rather than a &quot;.&quot; or 
&quot;/.&quot; or &quot;/&quot; this makes it easier to use in urls.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.filename_is_basechunk">js.plated_files.filename_is_basechunk</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L307">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>bool = plated_files.filename_is_basechunk(filename)
</code></pre>
<p>Is this filename part of the basechunks for a dir?</p>
<p>A base chunk is something like ^.html or ^.css all of these files get 
merged into the base chunks for the directory they are found in. Their 
extension is ignored and just to help syntax highlighting when the file 
is viewed.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.filename_is_plated">js.plated_files.filename_is_plated</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L330">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>bool = plated_files.filename_is_plated(filename)
</code></pre>
<p>Is this filename something we need to run through plated. Returns true 
if filename contains the ^ trigger string. This string can be changed 
by altering opts.hashfile from &quot;^&quot; to something else.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.filename_to_dirname">js.plated_files.filename_to_dirname</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L280">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>dirname = plated_files.filename_to_dirname(filename)
</code></pre>
<p>Get the dirname of this filename.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.filename_to_output">js.plated_files.filename_to_output</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L350">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>filename = plated_files.filename_to_output(filename)
</code></pre>
<p>Work out the output filename from an input filename, the trigger string 
&quot;^.&quot; gets removed as we process a file.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.find_dirs">js.plated_files.find_dirs</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L440">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.find_dirs(root,name,func)
</code></pre>
<p>Call func(name) with every directory we find inside the root/name 
directory. We follow symlinks into other directories.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.find_files">js.plated_files.find_files</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L413">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.find_files(root,name)
</code></pre>
<p>REturn an array with every file we find inside the root/name directory. 
We follow symlinks into other directories.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.joinpath">js.plated_files.joinpath</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L79">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>await plated_files.joinpath(...)
</code></pre>
<p>join components into a full path.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.lstat">js.plated_files.lstat</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L126">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>await plated_files.lstat(path)
</code></pre>
<p>Return the lstat of this path</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.mkdir">js.plated_files.mkdir</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L182">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.mkdir(dir)
</code></pre>
<p>Fill in _source and related chunks such as.</p>
<p>_sourcename the file that this set of chunks came from.</p>
<p>_filename the output filename.</p>
<p>_dirname the output dirname.</p>
<p>_root the root of the site, normally a relative path to the current 
directory, eg ../ since some things such as github pages need to exist 
in a directory rather than the root of a site. This should always be 
used in html paths, {_root} instead of / to make sure that you always 
get to the right place and can find your files.</p>
<p>_filename the url path of the filename, eg /dirname/filename</p>
<p>_dirname the url path of the dir this file exists in, eg /dirname</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.prepare_namespace">js.plated_files.prepare_namespace</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L502">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.prepare_namespace(fname)
</code></pre>
<p>Check this directory and all directories above for generic chunks then 
build all of these into the current chunk namespace for this file.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.readdir">js.plated_files.readdir</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L140">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>await plated_files.readdir(path)
</code></pre>
<p>Return the readdir of this path</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.source_to_output">js.plated_files.source_to_output</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L293">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>filename = plated_files.source_to_output(filename)
</code></pre>
<p>Convert a source path into an output path.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.stat">js.plated_files.stat</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L112">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>await plated_files.stat(path)
</code></pre>
<p>Return the stat of this path</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.trimpath">js.plated_files.trimpath</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L58">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.trimpath(path)
</code></pre>
<p>Remove a trailing / from the path</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.watch">js.plated_files.watch</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L676">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.watch()
</code></pre>
<p>Build all files found in the source dir into the output dir and then 
sit watching for changes to these files that would trigger rebuilds.</p>
<p>This does not return, instead the user is expected to ctrl+c when 
finished.</p>
</div>
</div>

<div class="wrap">
<h1><a href="../../docs/js.plated_files.write">js.plated_files.write</a></h1>
<div class="source"><a href="https://github.com/xriss/plated/blob/master/js/plated_files.js#L250">https://github.com/xriss/plated/blob/master/js/plated_files.js</a></div>
<div><pre><code>plated_files.write(filename,data)
</code></pre>
<p>Create parent dir if necessary and write the data into this file.</p>
</div>
</div>

	</div>
</div>
</body>
</html>
